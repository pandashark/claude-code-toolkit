{
  "hooks": {
    "PostToolUse": [
      {
        "matcher": "Write|Edit|MultiEdit",
        "hooks": [
          {
            "type": "command",
            "command": "input=$(cat); file=$(echo \"$input\" | jq -r '.tool_input.file_path // empty'); [ -z \"$file\" ] && exit 0; [ ! -f \"$file\" ] && exit 0; ext=\"${file##*.}\"; case \"$ext\" in py) command -v ruff >/dev/null 2>&1 && ruff format --quiet \"$file\" 2>/dev/null && ruff check --fix --quiet \"$file\" 2>/dev/null; if command -v ruff >/dev/null 2>&1; then output=$(ruff check \"$file\" 2>&1); [ -n \"$output\" ] && echo \"$output\" | head -10; fi; if command -v mypy >/dev/null 2>&1; then output=$(mypy --no-error-summary \"$file\" 2>&1); echo \"$output\" | grep -v '^Success' | head -5; fi; ;; js|jsx|ts|tsx) command -v prettier >/dev/null 2>&1 && prettier --write --log-level=silent \"$file\" 2>/dev/null; if command -v tsc >/dev/null 2>&1; then output=$(tsc --noEmit --pretty \"$file\" 2>&1); [ $? -ne 0 ] && echo \"$output\" | head -10; fi; ;; go) command -v gofmt >/dev/null 2>&1 && gofmt -w \"$file\" 2>/dev/null; ;; rs) command -v rustfmt >/dev/null 2>&1 && rustfmt --quiet \"$file\" 2>/dev/null; ;; esac; exit 0"
          }
        ]
      }
    ]
  }
}
